<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>NEXT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<link href="plugins/semantic/semantic.min.css" rel="stylesheet" type="text/css" />
<link href="plugins/ionicons/css/ionicons.min.css" rel="stylesheet" type="text/css"/>
<link href="plugins/fontawesome-free-5.8.1-web/css/all.min.css" rel="stylesheet" type="text/css"/>
<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="plugins/vuejs/vue.min.js"></script>
<script src="plugins/jquery/jquery.min.js"></script>
<script src="plugins/semantic/semantic.min.js"></script>
<script src="plugins/axios/axios.min.js"></script>
<script src="plugins/moment/moment-with-locales.js"></script>
<script src="plugins/qrcode/qrcode.js"></script>
<script src="plugins/feathericons/feather.min.js"></script>
<script src="plugins/sweetalert2/sweetalert2.all.min.js"></script>
<script src="plugins/sb/sb.js"></script>
<style>
body
{
	background: #fcfcfc;
}

.top
{
	margin-bottom:50px;
}

.logo-svg {
    height: 3em;
    margin-top: 4px;
    pointer-events: none;
    vertical-align: middle;
    width: 3em;
	color:#6435c9;
	display:inline-block;
	float: left;
}

.logo-icon {
    height: 3em;
    margin-top: 4px;
    pointer-events: none;
    vertical-align: middle;
    width: 3em;
	color:#6435c9;
	display:inline-block;
	float: left;
}

.logo-text {
	display:inline-block;
	font-size:18pt;
    vertical-align: middle;
	margin-top:20px;
}

.item-icon {
    height: 2em;
    margin-top: 15px;
	margin-left: 15px;
    pointer-events: none;
    vertical-align: middle;
    width: 2em;
	color:#ffffff;
}

.circle
{
	border-radius: 50%;
    width: 4em;
    height: 4em;
	background:#6435c9;
	display:inline-block;
}

.svg-icon-small {
    height: 2em;
    margin-top: -4px;
    pointer-events: none;
    vertical-align: middle;
    width: 2em;
}

.svg-icon-tiny {
    height: 1em;
    pointer-events: none;
    vertical-align: middle;
    width: 1em;
    margin-top: -4px;    
}

.mt15
{
	margin-top:15px;
	vertical-align:center;
}

.list-item-desc
{
	display:inline-block;
	margin-left:15px;
	font-size:12pt;
	color:#343434;
	line-height:60px;
	vertical-align:bottom;
}

.word-wrap
{
	word-break: break-all;
	word-wrap: break-word;
	color:#232323;
}
</style>
</head>
<body>
<div id="app">
	<br/>
	<div class="ui container" v-show="walletExist && walletUnlocked" style="display:none">
		<div class="ui menu">
			<div class="header item" v-on:click="route('overview')">
				<div style="width:24px;height:24px;"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="feather" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-feather fa-w-16 fa-5x"><path fill="#6435C9" d="M467.14 44.84c-62.55-62.48-161.67-64.78-252.28 25.73-78.61 78.52-60.98 60.92-85.75 85.66-60.46 60.39-70.39 150.83-63.64 211.17l178.44-178.25c6.26-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.6 9.37 33.98 0l66.1-66.03C159.42 454.65 279 457.11 353.95 384h-98.19l147.57-49.14c49.99-49.93 36.38-36.18 46.31-46.86h-97.78l131.54-43.8c45.44-74.46 34.31-148.84-16.26-199.36z" class=""></path></svg></div>
			</div>
			<a class="active item" v-on:click="route('overview')">Overview</a>
			<a class="item" v-on:click="route('receive')">Receive</a>
			<a class="item" v-on:click="route('send')">Send</a>
			<a class="item" v-on:click="route('staking')">Staking</a>
			<a class="item" v-on:click="route('sign')">Sign</a>
			<a class="item" v-on:click="route('verify')">Verify</a>
			<div class="ui dropdown item" tabindex="0">
				Community Fund
				<i class="dropdown icon"></i>
				<div class="menu" tabindex="-1">
					<a class="item" v-on:click="route('cfund-introduction')">Introduction</a>
					<a class="item" v-on:click="route('cfund-stats')">Fund Stats</a>
					<a class="item" v-on:click="route('cfund-proposals')">Community Proposals</a>
					<a class="item" v-on:click="route('cfund-payment-requests')">Payment Requests</a>
					<div class="divider"></div>
					<a class="item" v-on:click="route('cfund-create-proposal')">Create Proposal</a>
					<a class="item" v-on:click="route('cfund-my-proposals')">My Proposals</a>
					<div class="divider"></div>
					<a class="item" v-on:click="route('cfund-request-nav')">Create Proposal Sponshorsip Request</a>
					<a class="item" v-on:click="listProposalRequestList();route('cfund-request-nav-list');">Sponshorsip Request List</a>
				</div>
			</div>

			<div class="ui dropdown item" tabindex="0">
				Tools
				<i class="dropdown icon"></i>
				<div class="menu" tabindex="-1">
					<a class="item" v-on:click="route('mnemonics')">Show Mnemonics & Private Key</a>
					<a class="item" v-on:click="route('sweepPrivateKey')">Sweep Private Key</a>
				</div>
			</div>

			<div class="right menu">
				<div class="item">
					<div class="ui action left">
					<button type="button" class="ui button basic tiny" title="Refresh" v-on:click="refresh()"><i data-feather="refresh-cw" class="svg-icon-tiny"></i></button>
					<button type="button" class="ui button basic tiny" title="Lock Wallet" v-on:click="lockWallet()"><i data-feather="lock" class="svg-icon-tiny"></i></button>
	      			</div>
	    		</div>
	  		</div>
		</div>

		<div class="ui segment active" v-show="currentPage=='overview'">
			<a class="ui violet ribbon label">Balance</a>
			
			<div class="ui middle aligned divided list">
			  <div class="item">
				<div class="right floated content" v-if='height||height=="0"'>
					<div>
						<i class="ion-android-globe icon"></i> {{network}}
					</div>
					<div>
						<i class="ion-android-funnel icon"></i> {{formatNumber(height)}}
					</div>
				</div>
					
				<div class="ui column active inline indeterminate loader right floated" v-else></div>
				<div class="content" v-if='balance'>
					<h3>{{formatBalance(balance.balance)}} {{coin.symbol}}</h3>
				</div>
				<div class="ui column active inline indeterminate loader" v-else></div>
			  </div>
			</div>
			
		</div>

		<div class="ui three column grid" v-show="currentPage=='overview'">
			<div class="column">
				<div class="ui fluid card">
					<div class="content">
						<div class="header"><i class="ion-flag icon"></i>Getting Started</div>
						<div class="description" style="min-height:45px">
							Find out what the Community Fund is and how it works.
						</div>
						<br/><button v-on:click="route('cfund-introduction')" class="ui right labeled icon button violet">Read More<i class="right chevron icon"></i></button>
					</div>
				</div>
			</div>
			
			<div class="column">
				<div class="ui fluid card">
					<div class="content">
						<div class="header"><i class="ion-plus icon"></i>Create Your Proposal</div>
						<div class="description" style="min-height:45px">
							Learn how to create and submit your proposal to NavCoin blockchain.
						</div>
						<br/><button v-on:click="route('cfund-create-proposal')" class="ui right labeled icon button green"><i class="right chevron icon"></i>Create a Proposal</button>
					</div>
				</div>
			</div>

		  	<div class="column">
				<div class="ui fluid card">
					<div class="content">
						<div class="header"><i class="ion-person-add icon"></i>Join The Community</div>
						<div class="description" style="min-height:45px">
							You can collaborate with other people in the Community to bring your ideas to life.
						</div>
						<br/><button v-on:click="route('meet-community')" class="ui right labeled icon button orange"><i class="right chevron icon"></i>Meet The Community</button>
					</div>
				</div>
			</div>

		</div>

		<div class="ui segment" v-show="currentPage=='cfund-request-nav'">
			<h3>Proposal Sponsorship</h3>
			If you have a proposal that you might be useful for NavCoin and you've just met NavCoin, we can sponsor the 50 NAV you need to easily create your proposal.
			<h3>How does it work?</h3>
			We will only ask you some information about your proposal. We will also ask you to introduce yourself briefly. Based on the information you provide, we will decide whether to sponsor your proposal creation fee.
			<h3>So let's start</h3>
			<form class="ui form">
			   <div class="field">
					<label>Who are you?</label>
					<textarea rows="3" name="nav_request_who" placeholder="" v-model="nav_request_who"></textarea>
				</div>
			   <div class="field">
					<label>E-Mail</label>
					<input type="text" name="nav_request_email" placeholder="" v-model="nav_request_email">
				</div>
				<div class="field">
					<label>Tell us briefly about your proposal and how to do it.</label>
					<textarea rows="3" name="nav_request_details" placeholder="" v-model="nav_request_details"></textarea>
				</div>
				<div class="field">
					<label>How long do you think you can complete your proposal?</label>
					<input type="text" name="nav_request_timeline" placeholder="" v-model="nav_request_timeline">
				</div>
				<a class="ui button violet" v-on:click="create_sponsorship_request()">Create Request</a>
			</form>
		</div>

		<div class="ui segment" v-show="currentPage=='cfund-request-nav-list'">
			<h3>Proposal Sponsorship Request List</h3>
				<table class="ui celled table" v-if="sponsorshipRequestList.length>0">
					<thead>
						<tr>
							<th>
								Proposal Details
							</th>
							<th>
								Timeline
							</th>
							<th>
								Created On
							</th>
							<th>
								Status
							</th>
						</tr>
					</thead>
					<tr v-for="sr in sponsorshipRequestList">
						<td>
							{{sr[3]}}
						</td>
						<td>
							{{sr[4]}}
						</td>
						<td>
							{{sr[6]}}
						</td>
						<td>
							{{sr[8]}}
						</td>
					</tr>
				</table>
				<p v-if="sponsorshipRequestList.length<1">
					No proposal sponsorship request found.
				</p>
		</div>

		<div class="content" v-show="currentPage=='meet-community'">
			<h4>Meet The Community</h4>
			<h3>Social Media</h3>
			<span style="font-size:24px;color:#bbbbbb;">
			<a v-if="coin.social_youtube_url" class="external" style="color:red;margin-right:30px;" title="Youtube" target="_blank" v-bind:href="coin.social_youtube_url"><i class="ion-social-youtube" style="font-size:120px"></i></a>
			<a v-if="coin.social_facebook_url" class="external" style="color:#3B5998;margin-right:30px;" title="Facebook" target="_blank" v-bind:href="coin.social_facebook_url"><i class="ion-social-facebook" style="font-size:120px"></i></a>
			<a v-if="coin.social_twitter_url" class="external" style="color:#1da1f2;margin-right:30px;" title="Twitter" target="_blank" v-bind:href="coin.social_twitter_url"><i class="ion-social-twitter" style="font-size:120px"></i></a>
			<a v-if="coin.social_github_url" style="color:#333;margin-right:30px;" title="Github" target="_blank" v-bind:href="coin.social_github_url"><i class="ion-social-github" style="font-size:120px"></i></a>
			<a v-if="coin.social_reddit_url" style="color:#ff4500;margin-right:30px;" title="Reddit" target="_blank" v-bind:href="coin.social_reddit_url"><i class="ion-social-reddit" style="font-size:120px"></i></a>
			<a v-if="coin.social_instagram_url" class="external" style="color:#405de6;margin-right:30px;" title="Instagram" target="_blank" v-bind:href="coin.social_instagram_url"><i class="ion-social-instagram" style="font-size:120px"></i></a>
			<a v-if="coin.social_discord" class="external" style="color:#405de6;margin-right:30px;" title="Instagram" target="_blank" v-bind:href="coin.social_discord"><i class="ion-social-discord" style="font-size:120px"></i></a>
			</span>
			<h3>Other Resources</h3>
			<div class="ui massive nowrap vertical menu" style="width:400px">
				<a href="http://collab.navcoin.org" class="external item" target="_blank"><i class="ion-android-open"></i>&nbsp;NavCoin Collaboration Platform</a>
				<a href="http://forum.navcommunity.net" class="external item" target="_blank"><i class="ion-android-open"></i>&nbsp;NavCoin Community Forum</a>
				<a href="https://discord.gg/y4Vu9jw" class="external item" target="_blank"><i class="ion-android-open"></i>&nbsp;Discord</a>
				<a href="https://t.me/navcoin" class="external item" target="_blank"><i class="ion-android-open"></i>&nbsp;Telegram</a>
				<a href="http://medium.com/nav-coin" class="external item" target="_blank"><i class="ion-android-open"></i>&nbsp;Medium</a>
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='overview'">
			<a class="ui teal ribbon label">Featured Community Proposals</a>
			<p></p>
			<div class="ui one column grid" v-if="proposals && featuredProposalCount()==0">
				<div class="content">
					<p>
					</p>
					<p>
						There are no featured proposal.
					</p>
					<p>
					</p>
				</div>
			</div>
			<div class="ui three column grid" v-if="proposals">
				<div class="column" v-for="proposal in proposals" v-if="proposal.featured=='1'">
					<div class="ui fluid card">
					    <div class="image">
					    	<img v-bind:src="(proposal.image?proposal.image:'img/placeholder.png')">
					    </div>
					    <div class="content">
					    	<div class="header">{{formatNumber(proposal.requestedAmount.slice(0, -3))}} {{coin.symbol}}</div>
					      	<div v-html="linkify(proposal.description)" class="description" style="word-break: break-all; word-wrap: break-word;">
					    	</div>
					   		<div style="margin-top:5px;">
	  			  				<span class="ui basic label" style="margin-top:3px">{{capitalize(proposal.status)}}</span>
				   				<span v-if="proposal.paymentRequests" style="margin-top:3px" class="ui basic label">{{proposal.paymentRequests.length}} Payment Request(s)</span>
				  			</div>
					    </div>
					    <div class="extra content">
					    	<span class="right floated" style="margin-left:10px" title="Proposal Duration">
					     	<i class="ion-calendar"></i>
					        	{{secondsToDhms(proposal.proposalDuration)}}
					      	</span>
		   			      	<span class="right floated" title="Voting Cycle">
					        <i class="ion-loop"></i>
					        	{{proposal.votingCycle}}
					      	</span>
					      	<span>
					        <i class="ion-thumbsup"></i>
					      	  {{proposal.votesYes}}
					      	</span>
					      	<span>
						        <i class="ion-thumbsdown"></i>
					        	{{proposal.votesNo}}
					      	</span>
						  	<br/>
						  	<br/>
						  	<div style="margin-top:5px;margin-bottom:5px;">
						  		<a class="ui button tiny green" v-on:click="voteProposal(proposal,'yes')">Yes</a>
						  		<a class="ui button tiny red" v-on:click="voteProposal(proposal,'no')">No</a>
						  	</div>
						  	<div class="ui three column grid">
								
								<div class="column">
							  		<div class="ui tiny active progress green" @data-percent="getYesVotesProportion(proposal)">
			        					<div class="bar" :style="{width: getYesVotesProportion(proposal)+'%'}"></div>
			        					<div class="label">
			        						<i class="fa fa-thumbs-o-up text-success"></i>
			        						%{{getYesVotesProportion(proposal)}}
			        					</div>
			      					</div>
							  	</div>
							  
							  	<div class="column">
							  		<div class="ui tiny active progress red" @data-percent="getNoVotesProportion(proposal)">
			        					<div class="bar" :style="{width: getNoVotesProportion(proposal)+'%'}"></div>
			        					<div class="label">
			        						<i class="fa fa-thumbs-o-up text-success"></i>
			        						%{{getNoVotesProportion(proposal)}}
			        					</div>
			      					</div>
							  	</div>

							  	<div class="column">
							  		<div class="ui tiny active progress violet" @data-percent="getRequiredVotesProportion(proposal)">
			        					<div class="bar" :style="{width: getRequiredVotesProportion(proposal)+'%'}"></div>
			        					<div class="label">
			        						<i class="fa fa-thumbs-o-up text-success"></i>%{{getRequiredVotesProportion(proposal)}}
			        					</div>
			      					</div>
							  	</div>
						 	</div>
							<div class="ui accordion">
								<div class="title">
									<i class="dropdown icon"></i>
									Details
								</div>
								<div class="content">
									<h5>Proposal Hash</h5>
									<p class="word-wrap">
										{{proposal.hash}}
									</p>
									<h5>Payment Address</h5>
									<p class="word-wrap">
										{{proposal.paymentAddress}}
									</p>
									<h5>User Paid Fee</h5>
									<p class="word-wrap">
										{{proposal.userPaidFee}} {{coin.symbol}}
									</p>
								</div>
							</div>
					    </div>
					</div>
				</div>
			</div>
			<div v-else>
				<div class="ui active inline indeterminate loader"></div>
			</div>
		</div>
		
		<div class="ui segment" v-show="currentPage=='receive'">
			<a class="ui violet ribbon label">Receive</a>
			<p></p>
			<p v-if="addressList">{{addressList}}</p>
			<p v-html="qrcode"></p>

			<table class="ui table">
			  <tbody>
			    <tr>
			      <td class="collapsing">
			        <i class="ion-android-arrow-down"></i> Received
			      </td>
			      <td>{{balance.received?formatBalance(balance.received):0}} <span class="ui violet circular label">{{balance.receivedCount?balance.receivedCount:0}}</span></td>
			    </tr>
			  </tbody>
			</table>
			<div class="ui middle aligned divided list">
				<table class="ui celled table">
				  <thead>
				    <tr>
				    	<th>Type</th>
				    	<th>Amount</th>
				    	<th>Balance</th>
				    	<th>Date</th>
					</tr>
				  </thead>
				  <tbody>
				    <tr v-for="tx in txs">
				      <td data-label="">
						<a title="Show Transaction on Explorer" target="_blank" v-bind:href="coin.block_explorers['NavExplorer'].url+'/tx/'+tx.transaction">
							<i class="ui avatar ion-android-arrow-up" style="color:#cc6600" v-if="tx.changes.balance<0"></i>
							<i class="ui avatar ion-android-arrow-down" style="color:#669900" v-if="tx.changes.balance>0"></i>
						</a>
				      </td>
				      <td data-label="Amount">
                            <span style="color:#cc6600" v-if="tx.changes.balance<0">{{formatBalance(tx.changes.balance)}}</span>
                            <span style="color:#669900" v-if="tx.changes.balance>0">+{{formatBalance(tx.changes.balance)}}</span>
				      </td>
				      <td data-label="Balance">
				      	{{sb.toBitcoin(tx.changes.balance)}}
				      </td>
				      <td data-label="Date">
				      	<small style="margin-top:15px;color:#676767;" v-bind:title="'Block Number : ' + tx.height">{{formatDate(tx.time)}}</small>
				      </td>
				    </tr>
				  </tbody>
				</table>
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='send'">
			<a class="ui violet ribbon label">Send</a>
			<p></p>
			<form class="ui form">
				  <div class="field">
					<label>Address</label>
					<input type="text" name="send_address" placeholder="Address" v-model="send_address">
				  </div>
				  <div class="field">
					<label>Amount</label>
					<input type="text" name="send_amount" placeholder="Amount" v-model="send_amount">
				  </div>
				  <a class="ui button green" v-on:click="send()">Send</a>
				  <a class="ui button violet right floated" v-on:click="useAllFunds()">Use All Funds</a>
			</form>
			<div class="ui accordion">
				<div class="title">
					<i class="dropdown icon"></i>
					UTXOs
				</div>
				<div class="content">
					<pre>{{utxo}}</pre>
				</div>
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='staking'">
			<a class="ui violet ribbon label">Staking</a>
			<p></p>
			<div class="ui grid">
 				<div class="six wide column">
 					<img style="width:256px;height:auto" src="img/undraw_solution_mindset_34bi.svg">
					<p>NEXT lightweight wallet provides Cold Staking.</p>
					<div class="ui list">
					  <a class="item">
					    <i class="right ion-android-checkbox-outline icon"></i>
					    <div class="content">
					      <div class="header">Non-custodial</div>
					    </div>
					  </a>
					  <a class="item">
					    <i class="right ion-android-checkbox-outline icon"></i>
					    <div class="content">
					      <div class="header">Only wallet owner have spending permission </div>
					    </div>
					  </a>
					  <a class="item">
					    <i class="right ion-android-checkbox-outline icon"></i>
					    <div class="content">
					      <div class="header">10% Fixed rate staking fee</div>
					    </div>
					  </a>
					  <a class="item">
					    <i class="right ion-android-checkbox-outline icon"></i>
					    <div class="content">
					      <div class="header">Track your staking rewards in your wallet</div>
					    </div>
					  </a>
					</div>
				</div>
				 <div class="ten wide column top">
				 	<div class="header">
					<p>
						<div class="ui toggle checkbox"><input disabled type="checkbox" name="public" v-model="settings.cold_staking"><label>Cold Staking</label></div>
					</p>
					<table class="ui basic table">
					  <tbody>
					    <tr>
					      <td>Cold Staking Address</td>
					    </tr>
					    <tr>
					      <td>{{(settings.cold_staking_address?settings.cold_staking_address:"N/A")}}</td>
					  </tr>
					  </tbody>
					</table>
					<button class="violet large ui button" style="margin-top:45px;" v-on:click="startStaking()"><i data-feather="play" class="svg-icon-tiny"></i>&nbsp;Start Staking</button>
				</div>
				</div>
			</div>
		</div>
		
		<div class="ui segment" v-show="currentPage=='sign'">
			<a class="ui violet ribbon label">Sign Message</a>
			<p></p>
			<form class="ui form">
				  <div class="field">
					<label>Message</label>
					<input type="text" name="message" placeholder="Message" v-model="message">
				  </div>
				  <a class="ui button" v-on:click="sign()">Sign</a>
				  <p>{{result_signature}}</p>
			</form>
		</div>
		
		<div class="ui segment" v-show="currentPage=='verify'">
			<a class="ui violet ribbon label">Verify Message</a>
			<p></p>
			<form class="ui form">
				  <div class="field">
					<label>Message</label>
					<input type="text" name="verify_message" placeholder="Message" v-model="verify_message">
				  </div>
				  <div class="field">
					<label>Address</label>
					<input type="text" name="verify_address" placeholder="Address" v-model="verify_address">
				  </div>
				  <div class="field">
					<label>Signature</label>
					<input type="text" name="verify_signature" placeholder="Signature" v-model="verify_signature">
				  </div>
				  <a class="ui button" v-on:click="verify()">Verify</a>
				  <p>{{result_verify}}</p>
			</form>
		</div>

		<div class="ui segment" v-show="currentPage=='mnemonics'">
			<a class="ui violet ribbon label">Tools</a>
			<p></p>
			<button class="ui button gray" v-on:click="getnewaddress()">Private Key & Mnemonics</button>
			<div v-if="address" class="ui message">
				<h5>Public Address</h5><p>{{address}}</p>
				<h5>Private Key</h5><p>{{privateKey}}</p>
				<h5>Mnemonics</h5><p>{{mnemonics}}</p>
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='sweepPrivateKey'">
			<a class="ui violet ribbon label">Sweep Private Key</a>
			<p></p>
			<p>If you have a private key for your NavCoins in another wallet, paste this address in the field below. If the private key you provided is correct and there is NAV at the specified address, all NAVs will be transferred to your wallet.</p>
			<form class="ui form">
			  <div class="field">
					<label>Private Key</label>
					<input type="text" name="send_address" placeholder="Enter a NavCoin private key to sweep" v-model="sweep_address">
				</div>
			  <div class="field">
				<a class="ui button" v-on:click="sweepPrivateKey()"><i class="fas fa-broom"></i>&nbsp;Sweep Address</a>
			  </div>
			</form>
		</div>

		<div class="ui segment" v-show="currentPage=='cfund-introduction'">
			<a class="ui violet ribbon label">Community Fund</a>
			<p></p>
			<div class="content">
				<div class="container-fluid">
					<h3 class="ui violet header">Why was the NavCoin Community Fund created?</h3>

					<p>NavCoin is a decentralised project, which relies on the efforts of individuals all over the world to secure, maintain and grow its network. The NavCoin Community Fund aims to help strengthen the network by encouraging and incentivising more people to get involved.</p>

					<h3 class="ui violet header">The world’s first decentralised dual-vote fund</h3>
					<p>The NavCoin Community Fund is different to other development funds for two key reasons:
					    It’s fully decentralised, meaning it’s not controlled or managed by any individual or single group.
					    Projects are approved for funding and payment using a unique two-stage voting process. This ensures that people only get paid if they deliver what they promised in their proposal.
					</p>
					<img class="ui huge bordered image rounded" src="img/cfund-3-step.jpg">
					<h3 class="ui violet header">Technical details</h3>
					<p>For a more technical explanation of the science behind the NavCoin Community Fund, check out this paper by NavCoin Core developer Alex Vazquez on GitHub: https://github.com/aguycalled/cfundpaper/blob/master/cfund.pdf</p>
					</p>

					<h3 class="ui violet header">Frequently Asked Questions</h3>
					<p class="ui header">How are funds generated?
					<p>
					Funds are generated by the network at the rate of 0.25 NAV per block. This amount was made available after a network consensus vote in early 2018 that decreased staking rewards from 5 to 4% pa. It equates to 250,000 NAV per year. Note: There is a NPIP to increase this amount - the rationale why can be seen in this thread on reddit.</p>
					</p>

					<p class="ui header">Where do I create a proposal?</p>
					<p>To start with, there will be a proposal form that generates a piece of code which you then paste into your wallet.<br/> In this form you will need to include the following details:<br/><br/>
					    The title of your project<br/>
					    Description (ideally a link to a full description)<br/>
					    The amount of funding you want<br/>
					    Your wallet address<br/>
					    How long it will take to complete - consider giving yourself longer than you expect<br/>
					</p>
					<p class="ui header">How do I vote?
					<p>To vote you must be actively staking NavCoin. Votes are cast from within your wallet - and each time you stake you will ‘cast a vote’ to the network. Then at the end of each voting period (roughly a week) the votes are tallied up.</p>
					</p>

					<p class="ui header">What types of projects can be submitted?
					<p>There is no restriction on the type of project you can submit. However it should be thought through properly and be something you think the NavCoin network might realistically support. It could be to develop an application that expands the NavCoin ecosystem, or something unrelated like a donation to charity. It’s entirely up to you.</p>
					</p>

					<p class="ui header">What does it cost to make a proposal?
					<p>The minimum submission fee is 100 NAV, however you can elect to pay a higher fee. The fees go into the Community Fund. The benefit of paying a higher fee is that it can help you proposal receive funding first. For example if two projects are accepted, the one paying the higher fee will get its funding before the other. Also worth noting that you can add your submission fee as an extra cost in your proposal if you wish, to receive the money back.</p>
					</p>

					<p class="ui header">How long will it take to go through voting/approval process?
					<p>It depends on how well your project is received once you’ve submitted it to the blockchain for voting. It could take as little as one block period (about seven days). For a project to be accepted at least 50% of NavCoin stakers must participate in the vote, and 75% of them must vote YES. If 67.5% vote NO the proposal is rejected. The maximum time a project has to reach the 50% quorum is six block periods.</p>
					</p>

					<p class="ui header">Can I split payment requests?
					<p>Yes you can. In fact, splitting up your work into sections with a planned series of payment requests would be an ideal option. For example, if you want to make a video you could make the first payment request for the script, the second for the storyboards, and the final for the finished video. This approach means your project could benefit from regular feedback, which can help you solve problems early on and make delivering the finished project easier.</p>
					</p>

					<p class="ui header">How much can I apply for?
					<p>The amount of funds you request should be a realistic estimate of the cost of completing your project successfully. However there is no limit on how much NAV a proposal can ask for. But if the proposal is accepted by the community and there are not enough NAV in the Community Fund at the time, then the proposal enters an ‘accepted but waiting for funds’ state. Then once there are enough NAV in the fund, the proposal will be given the go ahead and the NAV to pay for it will be locked away to be used for payment request for that proposal when it’s finished.</p>
					</p>

					<p class="ui header">Where should I post/talk about my project?
					<p>The NavCoin Community Collab Forum (launching soon) is a purpose built forum for submitting your proposal and discussing it with other NavCoin community members. You can ask for advice, and find people to add expertise to your team. You can also use the existing NavCoin channels on Discord, Reddit and Telegram.</p>
					</p>

					<p class="ui header">What can I do to help my proposal get votes?
					<p>You need to convince NavCoin stakers that your project deserves a share of the network’s funds. To do that you need to clearly and concisely express the value it brings to the Navcoin ecosystem, or to the world as a whole. You’re free to promote your proposal to NavCoin stakers however you want, but the Collab forum, Discord and Reddit are good places to start.</p>
					</p>
				</div>
			</div>
		</div>
		
		<div class="ui bottom attached tab segment active" data-tab="first" v-if="Object.keys(cfundStats).length>0 && currentPage=='cfund-stats'">
		    <a class="ui violet ribbon label">Fund Stats</a>
			<br/><br/>
		    <div class="ui top pointing attached menu">
			  <a class="item active" data-tab="cfund-stats-1">Fund</a>
			  <a class="item" data-tab="cfund-stats-2">Current Period</a>
			  <a class="item" data-tab="cfund-stats-3">Consensus</a>
			</div>
			<div class="ui bottom attached tab segment active" data-tab="cfund-stats-1">
			  	<table class="ui celled striped table">
				  <thead>
				    <tr><th colspan="2">
				      Fund
				    </th>
				  </tr></thead>
				  <tbody>
					<tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Available
				      </td>
				      <td class="right aligned collapsing">{{formatnumbers(cfundStats.funds.available.toFixed(0))}} NAV</td>
				    </tr>
				    <tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Locked
				      </td>
				      <td class="right aligned collapsing">{{formatnumbers(cfundStats.funds.locked)}} NAV</td>
				    </tr>
					<tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Available in USD
				      </td>
				      <td class="right aligned collapsing">{{formatnumbers(parseFloat(cfundStats.funds.available*price.data.quote.USD.price).toFixed(2))}} USD</td>
				    </tr>
					</tbody>
				</table>
			</div>
			<div class="ui bottom attached tab segment" data-tab="cfund-stats-2">
			  	<table class="ui celled striped table">
				  <thead>
				    <tr><th colspan="2">
				      Current Period
				    </th>
				  </tr></thead>
				  <tbody>
					<tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Starting Block Number
				      </td>
				      <td class="right aligned collapsing"><span v-if="cfundStats.votingPeriod.starting">{{cfundStats.votingPeriod.starting}}</span></td>
				    </tr>
				    <tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Ending Block Number
				      </td>
				      <td class="right aligned"><span v-if="cfundStats.votingPeriod.ending">{{cfundStats.votingPeriod.ending}}</span></td>
				    </tr>
				    <tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Current Block Number
				      </td>
				      <td class="right aligned"><span v-if="cfundStats.votingPeriod.current">{{cfundStats.votingPeriod.current}}</span></td>
				    </tr>
				    <tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Remaining Blocks
				      </td>
				      <td nowrap class="right aligned"><span v-if="cfundStats.votingPeriod.current">{{cfundStats.votingPeriod.ending-cfundStats.votingPeriod.current}} ({{roundnumber((cfundStats.votingPeriod.ending-cfundStats.votingPeriod.current)*100/cfundStats.consensus.blocksPerVotingCycle)}}%)</span></td>
				    </tr>
				    <tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Voted Proposals
				      </td>
				      <td class="right aligned">{{cfundStats.votingPeriod.votedProposals.length}}</td>
				    </tr>
				    <tr>
				      <td>
				        <i class="ion-android-arrow-dropright"></i> Voted Payment Requests
				      </td>
				      <td class="right aligned">{{cfundStats.votingPeriod.votedPaymentrequests.length}}</td>
				    </tr>
				  </tbody>
				</table>
			</div>
			<div class="ui bottom attached tab segment" data-tab="cfund-stats-3">
				<table class="ui celled striped table">
					<thead>
					    <tr><th colspan="2">
					      Consensus
					    </th>
					  </tr></thead>
					 <tbody>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Minimum Fee For Create a Proposal
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{cfundStats.consensus.proposalMinimalFee}}</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Blocks Per Voting Cycle
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{cfundStats.consensus.blocksPerVotingCycle}}</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Minimum Sum of Votes Per Voting Cycle
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{cfundStats.consensus.minSumVotesPerVotingCycle}}</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Maximum Count Voting Cycle / Proposals
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{cfundStats.consensus.maxCountVotingCycleProposals}}</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Maximum Count Voting Cycle / Payment Requests
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{cfundStats.consensus.maxCountVotingCyclePaymentRequests}}</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Required % to <span class="badge bg-success text-white">Accept</span> Proposals
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{roundnumber(cfundStats.consensus.votesAcceptProposalPercentage)}}%</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Required % to <span class="badge bg-danger text-white">Reject</span> Proposals
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{roundnumber(cfundStats.consensus.votesRejectProposalPercentage)}}%</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Required % to <span class="badge bg-success text-white">Accept</span> Payment Requests
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{roundnumber(cfundStats.consensus.votesAcceptPaymentRequestPercentage)}}%</span></td>
					    </tr>
						<tr>
					      <td>
					        <i class="ion-android-arrow-dropright"></i> Required % to <span class="badge bg-danger text-white">Reject</span> Payment Requests
					      </td>
					      <td class="right aligned collapsing"><span v-if="cfundStats">{{roundnumber(cfundStats.consensus.votesRejectPaymentRequestPercentage)}}%</span></td>
					    </tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='cfund-proposals'">
			<a class="ui teal ribbon label">Community Proposals</a>
			<p></p>
			<div class="ui floating proposal-filter right dropdown labeled icon button">
			  <i class="filter icon"></i>
			  <span class="text">Filter Proposals</span>
			  <div class="menu">
			    <div class="ui icon search input">
			      <i class="search icon"></i>
			      <input type="text" placeholder="Search...">
			    </div>
			    <div class="divider"></div>
			    <div class="header">
			      <i class="tags icon"></i>
			      Status List
			    </div>
			    <div class="scrolling menu">
			      <div class="item" v-on:click="setProposalFilter('')">
			        <div class="ui gray empty circular label"></div>
			        All Proposals
			      </div>
			      <div class="item" v-on:click="setProposalFilter('pending')">
			        <div class="ui orange empty circular label"></div>
			        Pending
			      </div>
			      <div class="item" v-on:click="setProposalFilter('accepted')">
			        <div class="ui green empty circular label"></div>
			        Accepted
			      </div>
			      <div class="item" v-on:click="setProposalFilter('rejected')">
			        <div class="ui red empty circular label"></div>
			        Rejected
			      </div>
			      <div class="item" v-on:click="setProposalFilter('expired pending voting of payment requests')">
			        <div class="ui gray empty circular label"></div>
			        Expired pending voting of payment requests
			      </div>
			    </div>
			  </div>
			</div>
			<br/>
			<br/>
			<div class="ui three column grid" v-if="proposals.length>0">
			  <div class="column" v-for="proposal in filter(proposals)">
			  <div class="ui fluid card">
			    <div class="image">
			      <img v-bind:src="(proposal.image?proposal.image:'img/placeholder.png')">
			    </div>
			    <div class="content">
			      <div class="header">{{formatNumber(proposal.requestedAmount.slice(0, -3))}} {{coin.symbol}}</div>
			      <div v-html="linkify(proposal.description)" class="description" style="word-break: break-all; word-wrap: break-word;">
			      </div>
  			      <div style="margin-top:5px;">
	  			  	<span class="ui basic label" style="margin-top:3px">{{capitalize(proposal.status)}}</span>
				   	<span v-if="proposal.paymentRequests" style="margin-top:3px" class="ui basic label">{{proposal.paymentRequests.length}} Payment Request(s)</span>
				  </div>
			    </div>
			    <div class="extra content">
			    	<span class="right floated" style="margin-left:10px" title="Proposal Duration">
			     	<i class="ion-calendar"></i>
			        	{{secondsToDhms(proposal.proposalDuration)}}
			      	</span>
   			      	<span class="right floated" title="Voting Cycle">
			        <i class="ion-loop"></i>
			        	{{proposal.votingCycle}}
			      	</span>
			      	<span>
			        <i class="ion-thumbsup"></i>
			      	  {{proposal.votesYes}}
			      	</span>
			      	<span>
				        <i class="ion-thumbsdown"></i>
			        	{{proposal.votesNo}}
			      	</span>
				  	<br/>
				  	<br/>
				  	<div style="margin-top:5px;margin-bottom:5px;">
				  		<a class="ui button green" v-on:click="voteProposal(proposal,'yes')">Yes</a>
						<a class="ui button red" v-on:click="voteProposal(proposal,'no')">No</a>
					</div>
				  	<div class="ui three column grid">
						
						<div class="column">
					  		<div class="ui tiny active progress green" @data-percent="getYesVotesProportion(proposal)">
	        					<div class="bar" :style="{width: getYesVotesProportion(proposal)+'%'}"></div>
	        					<div class="label">
	        						<i class="fa fa-thumbs-o-up text-success"></i>
	        						%{{getYesVotesProportion(proposal)}}
	        					</div>
	      					</div>
					  	</div>
					  
					  	<div class="column">
					  		<div class="ui tiny active progress red" @data-percent="getNoVotesProportion(proposal)">
	        					<div class="bar" :style="{width: getNoVotesProportion(proposal)+'%'}"></div>
	        					<div class="label">
	        						<i class="fa fa-thumbs-o-up text-success"></i>
	        						%{{getNoVotesProportion(proposal)}}
	        					</div>
	      					</div>
					  	</div>

					  	<div class="column">
					  		<div class="ui tiny active progress violet" @data-percent="getRequiredVotesProportion(proposal)">
	        					<div class="bar" :style="{width: getRequiredVotesProportion(proposal)+'%'}"></div>
	        					<div class="label">
	        						<i class="fa fa-thumbs-o-up text-success"></i>%{{getRequiredVotesProportion(proposal)}}
	        					</div>
	      					</div>
					  	</div>

				  </div>
			  	<div class="ui accordion">
					<div class="title">
						<i class="dropdown icon"></i>Details
					</div>
					<div class="content">
						<h5>Proposal Hash</h5>
						<p class="word-wrap">
							{{proposal.hash}}
						</p>
						<h5>Payment Address</h5>
						<p class="word-wrap">
							{{proposal.paymentAddress}}
						</p>
						<h5>User Paid Fee</h5>
						<p class="word-wrap">
							{{proposal.userPaidFee}} {{coin.symbol}}
						</p>
					</div>
			 	</div>
			    </div>
			  </div>
			</div>
			</div>
			<div v-else>
				No proposal.
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='cfund-payment-requests'">
			<a class="ui violet ribbon label">Payment Requests</a>
			<p></p>
			<div class="ui link cards" v-if="paymentRequests['null'].length>0">
				<div class="card" v-for="paymentRequest in paymentRequests.null">
			    <div class="content">
			      <div class="header">{{formatNumber(paymentRequest.requestedAmount.slice(0, -3))}} {{coin.symbol}}</div>
			      <div class="meta">
			        <a>{{paymentRequest.status}}</a>
			      </div>
			      <div v-html="linkify(paymentRequest.description)" class="description" style="word-break: break-all; word-wrap: break-word;">
			      </div>
			      <div class="ui accordion">
						<div class="title">
							<i class="dropdown icon"></i>
						</div>
						<div class="content">
							<h5>Payment Request Hash</h5>
							<p class="word-wrap">
								{{paymentRequest.hash}}
							</p>
						</div>
					</div>
			    </div>
			    <div class="extra content">
   			      <span class="right floated" title="Voting Cycle">
			        <i class="ion-loop"></i>
			        	{{paymentRequest.votingCycle}}
			    	</i>
			      </span>
			      <span>
			        <i class="ion-thumbsup"></i>
			        {{paymentRequest.votesYes}}
			      </span>
			      <span>
			        <i class="ion-thumbsdown"></i>
			        {{paymentRequest.votesNo}}
			      </span>
			    </div>
			  	</div>
			</div>
			<div v-else>
				No payment request.
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='cfund-my-proposals'">
			<a class="ui violet ribbon label">My Proposals
			</a>
			<p></p>
			<h5 v-if="myProposalCount()>0">
			 	You have {{myProposalCount()}} proposal.
			</h5>
			<div class="ui link cards" v-if="myProposalCount()>0">
			  <div class="card" v-for="proposal in proposals" v-if="proposal.paymentAddress==addressList">
			    <div class="image">
					<img v-bind:src="(proposal.image?proposal.image:'img/placeholder.png')">
			    </div>
			    <div class="content">
			      <div class="header">{{formatNumber(proposal.requestedAmount.slice(0, -3))}} {{coin.symbol}}</div>
			      <div class="meta">
			        <a>{{proposal.status}}</a>
			      </div>
			      <div class="description" style="word-break: break-all; word-wrap: break-word;">
			        {{proposal.description}}
			      </div>
			    </div>
			    <div class="extra content">
			      <span class="right floated" style="margin-left:10px" title="Proposal Duration">
			      	<i class="ion-calendar"></i>
			        	{{secondsToDhms(proposal.proposalDuration)}}
			      </span>
   			      <span class="right floated" title="Voting Cycle">
			        <i class="ion-loop"></i>
			        	{{proposal.votingCycle}}
			    	</i>
			      </span>
			      <span>
			        <i class="ion-thumbsup"></i>
			        {{proposal.votesYes}}
			      </span>
			      <span>
			        <i class="ion-thumbsdown"></i>
			        {{proposal.votesNo}}
			      </span>
			    </div>
		        <div class="ui bottom attached button violet" v-if="proposal.status=='accepted'" v-on:click="showModalCreatePaymentRequest(proposal.hash)">
  					<i class="add icon"></i>
  					Create Payment Request
				</div>
			  </div>
			</div>
			<div v-else>
				You don't have any proposal.
			</div>
		</div>

		<div class="ui segment" v-show="currentPage=='cfund-create-proposal'">
			<a class="ui violet ribbon label">Create Proposal</a>
			<p></p>
			<form class="ui form">
			 <div class="field">
				<label>Proposal Description</label>
				<input type="text" name="strdzeel_s" placeholder="Description" v-model="strdzeel_s">
			  </div>
			  <div class="field">
				<label>Required Amount ({{coin.symbol}})</label>
				<input type="text" name="strdzeel_n" placeholder="Amount" v-model="strdzeel_n">
			  </div>
			  <div class="field">
				<label>Payment Address</label>
				<input type="text" name="strdzeel_a" placeholder="Address" v-model="strdzeel_a">
			  </div>
			  <div class="field">
				<label>Proposal Duration</label>
			  </div>
  			  <div class="fields">
	  			  <div class="two wide field">
		  			<select class="ui dropdown" v-model="day" value="1"><option v-for="index in 32" :key="index" v-bind:value="index-1">{{index-1}} Days</option></select>
				  </div>
	  			  <div class="two wide field">
					<select class="ui dropdown" v-model="month"><option v-for="index in 13" :key="index" v-bind:value="index-1">{{index-1}} Months</option></select>
				  </div>
	  			  <div class="two wide field">
					<select class="ui dropdown" v-model="year"><option v-for="index in 6" :key="index" v-bind:value="index-1">{{index-1}} Years</option></select>
				  </div>
				</div>
				
				<div v-if="Object.keys(cfundStats).length>0">
					<div class="ui label gray" style="margin-bottom: 10px;">
						<h4>Warning!</h4>
						<p>{{cfundStats.consensus.proposalMinimalFee}} NAV from your account will be transferred to the Community Fund as a Proposal Fee.</p>
					</div>
				</div>
			  <a class="ui button green" v-on:click="createProposal()">Create Proposal</a>
			</form>
		</div>
	</div>
	
	<div class="ui container" style="width:720px" v-show="!walletExist && step==0">
			<div class="top">
				<center>
				<div class="logo-text">
				<div style="width:128px;height:128;margin-bottom:15px;"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="feather" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-feather fa-w-16 fa-5x"><path fill="#6435C9" d="M467.14 44.84c-62.55-62.48-161.67-64.78-252.28 25.73-78.61 78.52-60.98 60.92-85.75 85.66-60.46 60.39-70.39 150.83-63.64 211.17l178.44-178.25c6.26-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.6 9.37 33.98 0l66.1-66.03C159.42 454.65 279 457.11 353.95 384h-98.19l147.57-49.14c49.99-49.93 36.38-36.18 46.31-46.86h-97.78l131.54-43.8c45.44-74.46 34.31-148.84-16.26-199.36z" class=""></path></svg></div>
				&nbsp;
				Welcome to the NEXT Lite Wallet</div>
				</center>
			</div>
			<div class="ui item" style="margin-top:50px;">
				<div class="item mt15">
					<div class="content">
						<div class="circle">
							<i data-feather="layers" class="item-icon"></i>
						</div>
						<span class="list-item-desc">
							The NEXT Lite Wallet allows you to quickly interact with the {{coin.name}} blockchain.
						</span>
					</div>
				</div>
				<div class="item mt15">
					<div class="circle">
						<i data-feather="shield" class="item-icon"></i>
					</div>
					<span class="list-item-desc">
						All your private keys are stored locally and you have all the control.
					</span>
				</div>
				<div class="item mt15">
					<div class="circle">
						<i data-feather="watch" class="item-icon"></i>
					</div>
					<span class="list-item-desc">
						There is no need to synchronize with the network. Open the wallet and you're ready to go.
					</span>
				</div>
			</div>
			<div style="margin-top:50px;">
				<center>
					<button class="ui right labeled icon button large blue" v-on:click="nextStep()">Get Started<i class="right chevron icon"></i></button>
				</center>
			</div>
	</div>

	<div class="ui container" v-show="!walletExist && step==1">
			<div class="top">
				<div style="width:128px;height:128;margin-bottom:15px;"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="feather" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-feather fa-w-16 fa-5x"><path fill="#6435C9" d="M467.14 44.84c-62.55-62.48-161.67-64.78-252.28 25.73-78.61 78.52-60.98 60.92-85.75 85.66-60.46 60.39-70.39 150.83-63.64 211.17l178.44-178.25c6.26-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.6 9.37 33.98 0l66.1-66.03C159.42 454.65 279 457.11 353.95 384h-98.19l147.57-49.14c49.99-49.93 36.38-36.18 46.31-46.86h-97.78l131.54-43.8c45.44-74.46 34.31-148.84-16.26-199.36z" class=""></path></svg></div>
				<div class="logo-text">&nbsp;Welcome to the NEXT Lite Wallet</div>
			</div>
		    <button type="button" class="ui button gray large" v-on:click="mcreateWallet()"><i data-feather="plus" class="svg-icon-tiny"></i>&nbsp;Create New Wallet</button><br/>
		    <button type="button" class="ui button gray large" v-on:click="mimportWallet()" style="margin-top:30px;"><i data-feather="log-in" class="svg-icon-tiny"></i>&nbsp;Import Wallet</button>
			</form>
	</div>

	<div class="ui container" v-show="!walletExist && step==2">
			<div class="top">
				<div style="width:128px;height:128;margin-bottom:15px;"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="feather" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-feather fa-w-16 fa-5x"><path fill="#6435C9" d="M467.14 44.84c-62.55-62.48-161.67-64.78-252.28 25.73-78.61 78.52-60.98 60.92-85.75 85.66-60.46 60.39-70.39 150.83-63.64 211.17l178.44-178.25c6.26-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.6 9.37 33.98 0l66.1-66.03C159.42 454.65 279 457.11 353.95 384h-98.19l147.57-49.14c49.99-49.93 36.38-36.18 46.31-46.86h-97.78l131.54-43.8c45.44-74.46 34.31-148.84-16.26-199.36z" class=""></path></svg></div>
				<div class="logo-text">&nbsp;Welcome to the NEXT Lite Wallet</div>
			</div>
			<form class="ui form">
				<h4 class="ui dividing header">Import Wallet</h4>
				<label>Please enter mnemonics for your wallet</label>				
				<br/><br/>
			  <div class="field">
			    <label>Mnemonics</label>
			    <input type="text" name="txt_mnemonics" v-model="txt_mnemonics" placeholder="">
			  </div>
 			  <div class="field">
			    <label>Password</label>
			    <input type="password" name="password" v-model="password" placeholder="" autofocus>
			  </div>
			  <div class="field">
			    <label>Password (Again)</label>
			    <input type="password" name="password_again" v-model="password_again" placeholder="">
			  </div>
			  <button type="button" class="ui button gray large" v-on:click="importWallet()"><i data-feather="check" class="svg-icon-tiny"></i>&nbsp;Import Wallet</button>
			</form>
	</div>

	<div class="ui container" v-show="!walletExist && step==3">
			<div class="top">
				<div style="width:128px;height:128;margin-bottom:15px;"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="feather" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-feather fa-w-16 fa-5x"><path fill="#6435C9" d="M467.14 44.84c-62.55-62.48-161.67-64.78-252.28 25.73-78.61 78.52-60.98 60.92-85.75 85.66-60.46 60.39-70.39 150.83-63.64 211.17l178.44-178.25c6.26-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.6 9.37 33.98 0l66.1-66.03C159.42 454.65 279 457.11 353.95 384h-98.19l147.57-49.14c49.99-49.93 36.38-36.18 46.31-46.86h-97.78l131.54-43.8c45.44-74.46 34.31-148.84-16.26-199.36z" class=""></path></svg></div>
				<div class="logo-text">&nbsp;Welcome to the NEXT Lite Wallet</div>
			</div>
			<form class="ui form">
				<h4 class="ui dividing header">Create Wallet</h4>
				<label>Please provide a password for your wallet</label>				
				<br/><br/>
			  <div class="field">
			    <label>Password</label>
			    <input type="password" name="password" v-model="password" placeholder="" autofocus>
			  </div>
			  <div class="field">
			    <label>Password (Again)</label>
			    <input type="password" name="password_again" v-model="password_again" placeholder="">
			  </div>
			  <button type="button" class="ui button gray large" v-on:click="createWallet()"><i data-feather="database" class="svg-icon-tiny"></i>&nbsp;Create My Wallet</button>
			</form>
	</div>

	<div class="ui container" v-show="!walletExist && step==4">
			<div class="top">
				<div>
					<i data-feather="feather" class="logo-icon"></i>
				</div>
				<div class="logo-text">&nbsp;Welcome to the NEXT Lite Wallet</div>
			</div>
			<form class="ui form">
			  <h4 class="ui dividing header">Create Wallet</h4>
			  <h4>
				  Pass Phrase
				</h4>
			  <p>
				  {{mnemonics}}
			  </p>
			  <h4>
				  Private Key
				</h4>
			  <p>
				  {{privateKey}}
			  </p>
  			  <div class="ui red inverted segment">
				  <h4>Warning!</h4>
				  <p>Your passphrase and private key will not be shown again.
				  Without it you will lose access to your wallet.</p>
			  </div>
  			  <div class="ui black inverted segment">
			  	The NEXT Lite Wallet is an experimental wallet.<br/>
			  	It is still in alpha stage.<br/>
			  	We recommend that you don't keep your coins in the wallet until a stable version is obtained.
			  </div>
			  <div class="field">
			  	<div class="ui checkbox">
					<input type="checkbox" tabindex="0" class="hidden" v-model="acceptRecoveryPhrase">
      				<label>I have written down or otherwise securely stored my passphrase</label>
    			</div>
			  </div>
			  <div class="field">
			  	<div class="ui checkbox">
					<input type="checkbox" tabindex="0" class="hidden" v-model="acceptTerms">
      				<label>I agree to the Terms and Conditions</label>
    		  	</div>
			  </div>

			  <button type="button" class="ui button gray large" v-on:click="loadWallet()"><i data-feather="log-in" class="svg-icon-tiny"></i>&nbsp;Finish</button>
			</form>
	</div>

	<div class="ui container" v-show="walletExist && !walletUnlocked">
		<div class="top">
			<div style="width:128px;height:128;margin-bottom:15px;"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="feather" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-feather fa-w-16 fa-5x"><path fill="#6435C9" d="M467.14 44.84c-62.55-62.48-161.67-64.78-252.28 25.73-78.61 78.52-60.98 60.92-85.75 85.66-60.46 60.39-70.39 150.83-63.64 211.17l178.44-178.25c6.26-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.6 9.37 33.98 0l66.1-66.03C159.42 454.65 279 457.11 353.95 384h-98.19l147.57-49.14c49.99-49.93 36.38-36.18 46.31-46.86h-97.78l131.54-43.8c45.44-74.46 34.31-148.84-16.26-199.36z" class=""></path></svg></div>
			<div class="logo-text">&nbsp;Welcome to the NEXT Lite Wallet</div>
		</div>
		<div class="ui form">
			<h4 class="ui dividing header">Unlock Wallet</h4>
			<label>Please enter your wallet password</label>				
			<br/><br/>
		  <div class="field">
		    <label>Password</label>
		    <input type="password" name="password" v-model="password" placeholder="" autofocus v-on:keyup.enter="unlockWallet()">
		  </div>
		  <button type="button" class="ui button gray large" v-on:click="unlockWallet()"><i data-feather="unlock" class="svg-icon-tiny"></i>&nbsp;Unlock Wallet</button>
		</div>
	</div>
</div>
<div id="modalPaymentRequest" class="ui modal">
	<i class="close icon"></i>
	<div class="header">Create Payment Request</div>
	<div class="content">
		<form class="ui form">
			<div class="field">
				<label>Request ID</label>
				<input type="text" name="paymentRequestID" id="paymentRequestID">
			</div>
			<div class="field">
				<label>Requested Amount</label>
				<input type="number" min="0" name="paymentRequestAmount" id="paymentRequestAmount">
			</div>
			<button type="button" class="ui button violet" onclick="app.submitPaymentRequest()">Create Payment Request</button>
		</form>
	</div>
</div>
<script>
$(document).ready(function(){
    $('.menu .item').tab({history:false});
	$('.accordion').accordion();
});
var app = new Vue({
  el: '#app',
  data: {
  	currentPage:'overview',
  	config:{headers: {'Content-Type': 'application/x-www-form-urlencoded'},responseType: 'text'},
  	day:0,
  	month:0,
  	year:0,
  	step:0,
  	network:'',
  	nav_request_who:'',
  	nav_request_email:'',
  	nav_request_details:'',
  	nav_request_timeline:'',
  	proposalFilter:'pending',
  	token:'',
  	txt_mnemonics:'',
  	acceptTerms:false,
  	acceptRecoveryPhrase:false,
  	password:'',
  	password_again:'',
  	walletUnlocked:false,
    walletExist:false,
	balance: '',
	height:'',
	address: '',
	addressList:'',
	mnemonics:'',
	message:'',
	privateKey:'',
	signature:'',
	sweep_address:'',
	verify_message:'',
	verify_address:'',
	verify_signature:'',
	result_signature:'',
	result_verify:'',
	send_address:'',
	send_amount:'',
	strdzeel_v:2,
	strdzeel_n:'',
	strdzeel_a:'',
	strdzeel_d:'',
	strdzeel_s:'',
	paymentRequestProposalHash:'',
	qrcode:'',
	utxo:[],
	txs:[],
	proposals:[],
	sponsorshipRequestList:[],
	paymentRequests:{"null":[]},
	settings:{},
	cfundStats:{},
	price:{},
    coin:{
		"name":"NAVCoin",
		"symbol":"NAV",
		"icon_class":"cc NAV-alt",
		"logo":"static/img/coins/nav.png",
		"bgcolor":"purple",
		"bgimage":"static/img/sidebar/sidebar-4.jpg",
		"url":"https://navcoin.org",
		"description":"Proof of Stake, Private Payment, Staking, Community Fund",
		"cmc_symbol":"nav-coin",
		"qrcode_prefix":"navcoin",
		"bool_support_community_fund":"1",
		"bool_support_open_alias":"1",
		"bool_support_cold_staking":"1",
		"social_youtube_url":"https://www.youtube.com/channel/UCjDs4JceVSsaeCyvkA9cWCg",
		"social_facebook_url":"https://www.facebook.com/navcoin",
		"social_twitter_url":"https://www.twitter.com/navcoin",
		"social_github_url":"https://www.github.com/navcoin",
		"social_reddit_url":"https://www.reddit.com/r/NavCoin/",
		"social_instagram_url":"https://www.instagram.com/navcore",
		"social_discord":"https://discord.gg/y4Vu9jw",
		"block_explorers":
		{
			"CryptoID":
			{
				"name":"CryptoID",
				"url":"https://chainz.cryptoid.info/nav/"
			},
			"NavExplorer":
			{
				"name":"NavExplorer",
				"url":"https://navexplorer.com"
			}
		}
	}
  },
  created: function()
  {
  	if (this.token=='') this.generateToken();
  	this.isWalletExist();
	this.refresh();
	this.strdzeel_n='';
	this.strdzeel_d='';
	this.strdzeel_s='';
	this.strdzeel_ps='';
  },
  mounted:function()
  {
  },
  updated:function()
  {
  	$('.accordion').accordion();
	$('.menu .item').tab();
	$('.ui.checkbox').checkbox();
  },
  methods:{
  	capitalize: function (s) 
  	{
  		if (typeof s !== 'string') return ''
  		return s.charAt(0).toUpperCase() + s.slice(1)
	},
	formatDate: n =>
    {
        if (n) return moment.unix(n).format('DD/MM/YYYY HH:mm:ss'); else return "";
    },
	setProposalFilter: function(filter) {
		this.proposalFilter=filter;
    },
    route: function (currentPage)
	{
		this.currentPage=currentPage;
	},
	formatnumbers: function(n) {
	  if (n==undefined) return;
      var parts = n.toString().split(".");
      return parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",") + (parts[1] ? "." + parts[1] : "");
    },
	filter: function(proposals) {
		if (!this.proposalFilter)
		{
			return proposals;
		}
		else
		{
			return proposals.filter(proposal => proposal.status==this.proposalFilter);
		}
    },
   	roundnumber: n => {
      if (!n) {
        return "0.00"
      }
	  return Math.round(n).toFixed(2);
    },
    refresh: function ()
	{
		if (this.walletExist && this.walletUnlocked)
		{
			this.txs=[];
			this.balance='';
			this.getSettings();
			this.getBalance();
			this.getPrice();
			this.getHeight();
			this.getCFundStats();
			this.listAddr();
			this.listProposals();
			this.listPaymentRequests();
			this.getUTXO();
			this.getTXHistory();
		}
	},
	getYesVotesProportion: function (proposal)
	{
        var total_votes = proposal.votesYes + proposal.votesNo;
        return Math.round((proposal.votesYes / total_votes) * 100, 2);
	},
	getNoVotesProportion: function (proposal)
	{
        var total_votes = proposal.votesYes + proposal.votesNo;
        return Math.round((proposal.votesNo / total_votes) * 100, 2);
	},
	getRequiredVotesProportion: function (proposal)
	{
		try
		{
			var requiredVotesProportion=(((proposal.votesYes+proposal.votesNo)*100)/this.cfundStats.consensus.minSumVotesPerVotingCycle).toFixed(2);
	   	if (requiredVotesProportion>100) return 100; else return requiredVotesProportion;
        }
        catch(err){}
	},
	total_in_seconds: function ()
	{
		let vm=this;
		var tis=0;
		if (vm.day) tis=vm.day*86400;
		if (vm.month) tis+=vm.month*2592000;
		if (vm.year) tis+=vm.year*31536000;
		return tis;
	},
	linkify:function(inputText)
	{
	    var replacedText, replacePattern1, replacePattern2, replacePattern3;

	    //URLs starting with http://, https://, or ftp://
	    replacePattern1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
	    replacedText = inputText.replace(replacePattern1, '<a title="Open Link on Browser" class="link" href="$1" target="_blank" style="margin-top:5px;"><i class="ion-android-open icon"></i>&nbsp;$1</a>');

	    //URLs starting with "www." (without // before it, or it'd re-link the ones done above).
	    replacePattern2 = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
	    replacedText = replacedText.replace(replacePattern2, '$1<a href="http://$2" target="_blank">$2</a>');

	    //Change email addresses to mailto:: links.
	    replacePattern3 = /(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;
	    replacedText = replacedText.replace(replacePattern3, '<a href="mailto:$1">$1</a>');

	    return replacedText;
	},
	myProposalCount:function()
	{
		let vm=this;
		var proposalCount=0;
		this.proposals.forEach(function(element)
		{
  			if (element.paymentAddress==vm.addressList) proposalCount++;
		});
		return proposalCount;
	},
	featuredProposalCount:function()
	{
		let vm=this;
		var featuredProposalCount=0;
		this.proposals.forEach(function(element)
		{
  			if (element.featured==1) featuredProposalCount++;
		});
		return featuredProposalCount;
	},
	showModalCreatePaymentRequest:function(paymentRequestProposalHash)
	{
		this.paymentRequestProposalHash=paymentRequestProposalHash;
		//console.log(this.paymentRequestProposalHash);
		$("#paymentRequestID").val('');
		$("#paymentRequestAmount").val('');
		$('#modalPaymentRequest').modal('show');
	},
	submitPaymentRequest:function()
	{
		$('#modalPaymentRequest').modal('hide');
		var paymentRequestID=$("#paymentRequestID").val();
		var paymentRequestAmount=$("#paymentRequestAmount").val();
		//console.log(paymentRequestID);
		//console.log(paymentRequestAmount);
		let vm=this;
		axios.post('http://127.0.0.1:3001/createpaymentrequest', {token:vm.token, h: this.paymentRequestProposalHash, i: paymentRequestID, n:paymentRequestAmount},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (response.data.substring(0,5) == "error")
			{
				swal({title:"Create Payment Request",type:"error",html:response.data});
			}
			else
			{
				swal({title:"Create Payment Request",type:"success",html:"Payment request created successfully"});
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		}); 
	},
	secondsToDhms:function(seconds)
	{
		seconds=Number(seconds);
		var d=Math.floor(seconds / (3600*24));
		var h=Math.floor(seconds % (3600*24) / 3600);
		var m=Math.floor(seconds % 3600 / 60);
		var s=Math.floor(seconds % 3600 % 60);
		var dDisplay = d > 0 ? d + (d == 1 ? " day " : " days ") : "";
		return dDisplay;
	},
    formatBalance: n => {
        if (n==0) return n;
        if (n)
        {
        	var amount=sb.toBitcoin(n);
       	    var parts=amount.toString().split(".");
        	return parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",") + (parts[1] ? "." + parts[1] : "");
        }
        else
        {
        	return "";
        }
    },
    formatNumber: n => {
		if (!n) return "0";
		return n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.");
	},
    numberWithCommas: n => {
      if (!n) {
        return "0.00"
      }
      n = (Math.round(n * 100) / 100).toFixed(2);
      var parts = n.toString().split(".");
      return (
        parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",") +
        (parts[1] ? "." + parts[1] : "")
      );
    },
	isWalletExist: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/iswalletexist', {token:vm.token},this.config)
		.then(function (response)
		{
			vm.walletExist=response.data.exist;
			vm.refresh();
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    unlockWallet: function ()
	{
		if (!this.password)
		{
			swal({title:"Unlock Wallet",type:"warning",html:"Please specify a password for unlock."});
		}
		else
		{
			let vm=this;
			axios.post('http://127.0.0.1:3001/unlockwallet', {token:vm.token, password: vm.password},this.config)
			.then(function (response)
			{
				if (!response.data.isUnlocked)
				{
					swal({title:"Unlock Wallet",type:"error",html:"Your password is not verified."});
				}
				else
				{
					const Toast = Swal.mixin({
					  toast: true,
					  showConfirmButton: false,
					  timer: 3000
					});

					Toast.fire({
					  type: 'success',
					  title: 'Your wallet is unlocked'
					})
				}
				vm.walletUnlocked=response.data.isUnlocked;
				vm.refresh();
			})
			.catch(function (error)
			{
				console.log(error);
			})
			.then(function ()
			{
			});
		}
    },
	lockWallet:function()
	{
		this.password=null;
		this.walletUnlocked=false;
	},
    nextStep: function ()
	{	
		this.step++;
    },
    mimportWallet: function ()
	{
		this.step=2;
	},
    mcreateWallet: function ()
	{
		this.step=3;
	},
	sweepPrivateKey: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/sweepprivatekey', {token:vm.token, privatekey: vm.sweep_address},this.config)
		.then(function (response)
		{
			console.log(response);
			if(response.data.error)
			{
				swal({title:"Sweep Private Key",type:"error",html:response.data.message});
			}
			else
			{
				swal({title:"Sweep Private Key",type:"success",html:response.data.address + "<br/>" + response.data.amount + "<br/>" + response.data.message});
			}
		})
		.catch(function (error)
		{
		})
		.then(function ()
		{
		}); 
	},
    importWallet: function ()
	{
		if (!this.txt_mnemonics)
		{
			swal({title:"Import Wallet",type:"warning",html:"Please specify mnemonics"});
		}
		else if (!this.password)
		{
			swal({title:"Import Wallet",type:"warning",html:"Please specify a password"});
		}
		else if (this.password.length<6)
		{
			swal({title:"Import Wallet",type:"warning",html:"Password minimum length is 6"});
		}
		else if (this.password!=this.password_again)
		{
			swal({title:"Import Wallet",type:"warning",html:"Your passwords did not match"});
		}
		else
		{
			let vm=this;
			axios.post('http://127.0.0.1:3001/importwallet', {token:vm.token, password: vm.password, mnemonics:vm.txt_mnemonics},this.config)
			.then(function (response)
			{
				if(response.data.error)
				{
					swal({title:"Import Wallet",type:"error",html:response.data.message});
				}
				else
				{
					vm.privateKey=response.data.privateKey;
					vm.mnemonics=response.data.mnemonics;
					vm.step=4;
				}
			})
			.catch(function (error)
			{
			})
			.then(function ()
			{
			});  
		}
	},
    createWallet: function ()
	{
		if (!this.password)
		{
			swal({title:"Create Wallet",type:"warning",html:"Please specify a password"});
		}
		else if (this.password.length<6)
		{
			swal({title:"Create Wallet",type:"warning",html:"Password minimum length is 6"});
		}
		else if (this.password!=this.password_again)
		{
			swal({title:"Create Wallet",type:"warning",html:"Your passwords did not match"});
		}
		else
		{
			let vm=this;
			axios.post('http://127.0.0.1:3001/initwallet', {token:vm.token, password: vm.password},this.config)
			.then(function (response)
			{
				vm.privateKey=response.data.privateKey;
				vm.mnemonics=response.data.mnemonics;
				vm.step=4;
			})
			.catch(function (error)
			{
				console.log(error);
			})
			.then(function ()
			{
			});  
		}
    },
    loadWallet: function ()
	{
		if (!this.acceptRecoveryPhrase||!this.acceptTerms)
		{
			swal({title:"Create Wallet",type:"info",html:"Please confirm you have accept terms and conditions."});
			return;
		}
		this.step++;
		this.walletExist=true;
		this.walletUnlocked=true;
		this.refresh();
    },
    generateToken: function ()
	{	
		let vm=this;
		axios.get('http://127.0.0.1:3001/generatetoken', {},this.config)
		.then(function (response)
		{
			vm.token=response.data.token;
			vm.network=response.data.network;
		  	vm.isWalletExist();
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    getBalance: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/balance', {token:vm.token},this.config)
		.then(function (response)
		{
			vm.balance=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    getSettings: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/settings', {token:vm.token},this.config)
		.then(function (response)
		{
			vm.settings=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    getPrice: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/price', {token:vm.token, symbol: this.coin.cmc_symbol, convert:"EUR"},this.config)
		.then(function (response)
		{
			if (!response.data.error)
			{
				vm.price=response.data;
			}
			else
			{
				//
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});
	},
    getCFundStats: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/cfundstats', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			vm.cfundStats=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});
    },
    listProposals: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/listproposals', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			vm.proposals=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    listProposalRequestList: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/listproposalrequestlist', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			vm.sponsorshipRequestList=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    listPaymentRequests: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/listpaymentrequests', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			vm.paymentRequests=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	getHeight: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/height', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			vm.height=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	getUTXO: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/utxo', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			vm.utxo=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	getTXHistory: function ()
	{	
		let vm=this;
		axios.post('http://127.0.0.1:3001/txhistory', {token:vm.token},this.config)
		.then(function (response)
		{
			console.log(response.data);
			vm.txs=response.data;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	listAddr: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/listaddr', {token:vm.token},this.config)
		.then(function (response)
		{
			vm.addressList=response.data;
			var prefix="navcoin:";
			var qrcode=new QRCode(prefix+response.data);
			vm.qrcode=qrcode.svg();

			vm.strdzeel_a=vm.addressList;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
    startStaking: function ()
	{	
		let vm=this;
		swal({
            title: "Confirm Cold Staking",
            html: "A cold staking address will be created for your wallet and the balance you have will be sent to your automatically created Cold Staking address.<p></p><p>Are you sure?</p>",
            type: "question",
            showCancelButton: true,
            confirmButtonColor: '#6435C9',
		    confirmButtonText: 'Yes, I am sure!',
		    cancelButtonText: "No, cancel it!",
        }).then((result) => {
            if (result.value) {
				axios.post('http://127.0.0.1:3001/startstaking', {token:vm.token},this.config)
				.then(function (response)
				{
					if (response.data.error)
					{
						swal({title:"Staking",type:"warning",html:response.data.error});
					}
					else
					{
						vm.settings.cold_staking=1;
						vm.settings.cold_staking_address=response.data.coldStakingAddress;
						swal({title:"Staking",type:"success",html:"Staking successfully started"});
					}
				})
				.catch(function (error)
				{
					console.log(error);
				})
            }
        });
    },
    getnewaddress: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/generate', {token:vm.token},this.config)
		.then(function (response)
		{
			console.log(response.data);
			vm.address=response.data.address;
			vm.privateKey=response.data.privateKey;
			vm.mnemonics=response.data.mnemonics;
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	sign: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/sign', {token:vm.token, message: this.message},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (!response.data.error)
			{
				vm.result_signature=response.data.signature;
			}
			else
			{
				vm.result_signature=response.data.message;
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	verify: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/verify', {token:vm.token, message: this.verify_message, address:this.verify_address, signature:this.verify_signature},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (!response.data.error)
			{
				vm.result_verify=response.data.result;
			}
			else
			{
				vm.result_verify=response.data.message;
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		});  
    },
	send: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/send', {token:vm.token, to: this.send_address, amount:this.send_amount},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (response.data.error)
			{
				swal({title:"Send",type:"error",html:response.data.message});
			}
			else if (response.data.substring(0,5) == "error")
			{
				swal({title:"Send",type:"error",html:response.data});
			}
			else
			{
				swal({title:"Send",type:"success",html:"Transaction created successfully"});
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		}); 
	},
	useAllFunds: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/useallfunds', {token:vm.token},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (response.data.error)
			{
				swal({title:"Use All Funds",type:"error",html:response.data.message});
			}
			else
			{
				vm.send_amount=response.data.amount;
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		}); 
	},
	voteProposal: function (proposal,vote)
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/voteproposal', {token:vm.token, hash: proposal.hash, vote:vote},this.config)
		.then(function (response)
		{
			if (response.data.includes("error"))
			{
				swal({title:"Proposal Vote",type:"error",html:response.data});
			}
			else
			{
				swal({title:"Proposal Vote",type:"success",html:"Your vote successfully submitted."});
			}
		})
		.catch(function (error)
		{
			console.log("Error:"+error);
		})
		.then(function ()
		{
		}); 
	},
	getStakingReward: function (tx)
	{
		return(sb.toBitcoin(parseFloat(tx.output)-parseFloat(tx.input)));
	},
	create_sponsorship_request: function ()
	{
		let vm=this;
		axios.post('http://127.0.0.1:3001/create_sponsorship_request', {token:vm.token, address: this.addressList, who:this.nav_request_who, email:this.nav_request_email, details:this.nav_request_details, timeline:this.nav_request_timeline},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (response.data.error)
			{
				swal({title:"Create Request",type:"error",html:response.data.message});
			}
			else if (response.data.result.status)
			{
				vm.nav_request_who='';
				vm.nav_request_email='';
				vm.nav_request_details='';
				vm.nav_request_timeline='';
				swal({title:"Create Request",type:"success",html:"Your request successfully submitted."});
			}
			else
			{
				swal({title:"Create Request",type:"error",html:"Failed"});
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		}); 
	},
	createProposal: function ()
	{
		let vm=this;
		if (!this.strdzeel_s)
		{
			swal({title:"Create Proposal",type:"warning",html:"Please specify a description for your proposal"});
			return;
		}
		if (!this.strdzeel_n)
		{
			swal({title:"Create Proposal",type:"warning",html:"Please specify an amount for your proposal"});
			return;
		}
		if (!this.strdzeel_a)
		{
			swal({title:"Create Proposal",type:"warning",html:"Please specify an payment address for your proposal"});
			return;
		}
		if (vm.total_in_seconds()==0)
		{
			swal({title:"Create Proposal",type:"warning",html:"Please select a proposal duration"});
			return;
		}
		this.strdzeel_d=vm.total_in_seconds();
		axios.post('http://127.0.0.1:3001/createproposal', {token:vm.token, v:this.strdzeel_v,n: this.strdzeel_n,a:this.strdzeel_a,d:this.strdzeel_d,s:this.strdzeel_s},this.config)
		.then(function (response)
		{
			//console.log(response.data);
			if (response.data.substring(0,5) == "error")
			{
				swal({title:"Create Proposal",type:"error",html:response.data});
			}
			else
			{
				swal({title:"Create Proposal",type:"success",html:"Your proposal created successfully"});
			}
		})
		.catch(function (error)
		{
			console.log(error);
		})
		.then(function ()
		{
		}); 
	}
  }
})
</script>
<script>
	feather.replace();
	  $(document)
    .ready(function() {
      $('.ui.menu .ui.dropdown').dropdown({
        on: 'hover'
      });
      $('.ui.menu a.item')
        .on('click', function() {
          $(this)
            .addClass('active')
            .siblings()
            .removeClass('active')
          ;
        })
      ;
    });
</script>
<script>
	$('.proposal-filter')
  .dropdown({
    clearable: true
  })
;
</script>
</html>